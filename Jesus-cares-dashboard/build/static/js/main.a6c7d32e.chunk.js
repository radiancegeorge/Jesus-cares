(this["webpackJsonpcares-dashboard"]=this["webpackJsonpcares-dashboard"]||[]).push([[0],{14:function(e,t,n){},39:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(2),s=n.n(a),i=n(32),o=n.n(i),r=(n(39),n(14),n(4)),l=n(65),d=n(13),j=n(6),u=n.n(j),h=function(){return Object(c.jsxs)("div",{class:"spinner",children:[Object(c.jsx)("div",{class:"cube1"}),Object(c.jsx)("div",{class:"cube2"})]})},b=function(){var e=Object(a.useState)(),t=Object(r.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(),o=Object(r.a)(i,2),j=o[0],b=o[1],p=Object(a.useState)(),m=Object(r.a)(p,2),O=m[0],g=m[1],x=Object(a.useState)(),f=Object(r.a)(x,2),v=f[0],y=f[1],N=Object(a.useState)(),w=Object(r.a)(N,2),S=w[0],C=w[1],k=Object(a.useState)(),_=Object(r.a)(k,2),P=_[0],z=_[1];return Object(c.jsx)("div",{className:"upload",children:Object(c.jsxs)("form",{className:"wrap",onSubmit:function(e){e.preventDefault(),void 0===n?e.target.video.click():void 0!==n&&void 0!==O&&void 0!==v&&function(){z(h);var e=new FormData;e.append("video",n[0]),e.append("header",O),e.append("content",v),e.append("document",S),u.a.post("https://jesuscarescharity.com/video_upload",e,{onUploadProgress:function(e){var t=e.loaded,n=e.total,c=Math.floor(100*t/n)/100;console.log(c),b({percentageForProgress:c,loaded:t})}}).then((function(e){200===e.status&&(z(Object(c.jsx)("div",{className:"complete",style:{textAlign:"center",width:"100%",fontSize:"20px",margin:"1rem 0",color:"green",fontWeight:"600"},children:"Done!!"})),setTimeout((function(){window.location.href="/#/video_upload"}),2e3))}))}()},children:[Object(c.jsx)("input",{type:"text",name:"header",className:"header",placeholder:"Heading...",onChange:function(e){g(e.target.value)}}),Object(c.jsx)("input",{type:"file",name:"video",id:"video",accept:"video/mp4",onChange:function(e){s(e.target.files)}}),Object(c.jsx)(d.a,{apiKey:"cyzxz48qlxcjtrlm33fqjx8ndfaxsiptkyr7f39owox4hu5h",init:{height:300,width:"100%",menubar:!1},onChange:function(e){y(e.target.getContent())}}),Object(c.jsx)("input",{type:"file",name:"doc",accept:"application/pdf",style:{display:"none"},onChange:function(e){C(e.target.files[0])}}),Object(c.jsx)("p",{className:"docName",children:void 0!==S&&S.name}),Object(c.jsx)("span",{className:"document",onClick:function(e){e.target.parentElement.doc.click()},children:"Attach a document"}),P,Object(c.jsxs)("button",{children:[" ",Object(c.jsx)(l.b,{color:"white"})," ",Object(c.jsx)("p",{children:"Upload Video"})," "]}),void 0!==n?Object(c.jsxs)("div",{className:"progress",children:[Object(c.jsx)(l.a,{size:"60px",color:"purple"})," ",Object(c.jsxs)("div",{className:"right",children:[Object(c.jsx)("span",{children:n[0].name})," ",Object(c.jsx)("progress",{value:void 0!==j?j.percentageForProgress:0})]})," "]}):void 0]})})},p=n(9),m=n(5),O=n(66),g=n.p+"static/media/logo.6ad2f7a5.png",x=function(){var e=Object(a.useState)(!0),t=Object(r.a)(e,2),n=t[0],s=t[1];return Object(c.jsx)("header",{children:Object(c.jsxs)("nav",{children:[Object(c.jsxs)("div",{className:"hambugger",onClick:function(e){var t=!0!==n;s(!n),console.log(t)},children:[" ",Object(c.jsx)(O.a,{size:"30px"})]}),Object(c.jsx)("div",{className:"leftSection",children:Object(c.jsx)("img",{src:g,alt:"",width:"100%"})}),Object(c.jsxs)("div",{className:n?"rightSection out":"rightSection",onClick:function(e){!1===e.target.classList.contains("out")&&(s(!n),console.log("clicked"))},children:[Object(c.jsx)(p.b,{to:"video_upload",children:"Video Upload"}),Object(c.jsx)(p.b,{to:"blog_post",children:"Blog Post"}),Object(c.jsx)(p.b,{to:"posts",children:"Posts"}),Object(c.jsx)(p.b,{to:"project",children:"Projects"})]})]})})},f=n(11),v=n.n(f),y=n(12),N=function(){var e=Object(y.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post("https://jesuscarescharity.com/blog_post",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(y.a)(v.a.mark((function e(t){var n,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Promise((function(e,n){var c=t,a=new FileReader;a.readAsDataURL(c),a.onloadend=function(t){var n=document.createElement("img");n.src=t.target.result,n.onload=function(t){var c=document.createElement("canvas"),a=c.getContext("2d"),s=800/n.width;c.width=800,c.height=s*n.height,a.drawImage(t.target,0,0,c.width,c.height);a.canvas.toBlob((function(t){e(t)}),"image/jpeg",.7)}}})),e.next=3,n;case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(a.useState)(""),t=Object(r.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(""),o=Object(r.a)(i,2),l=o[0],j=o[1],u=Object(a.useState)(""),b=Object(r.a)(u,2),p=b[0],m=b[1],O=Object(a.useState)(),g=Object(r.a)(O,2),x=g[0],f=g[1],v=Object(a.useState)(),y=Object(r.a)(v,2),S=y[0],C=y[1],k=Object(a.useState)(),_=Object(r.a)(k,2),P=_[0],z=_[1],D=Object(a.useState)(!1),F=Object(r.a)(D,2),I=F[0],L=F[1];return Object(c.jsxs)("div",{className:"post",children:[Object(c.jsxs)("form",{action:"",onSubmit:function(e){if(e.preventDefault(),console.log(n,l,p,x),""!==n.trim()&&""!==l.trim()&&""!==p.trim()&&void 0!==x){L(!0),z(h);var t=new FormData;t.append("content",n),t.append("header",l),t.append("author",p),t.append("coverPhoto",x,"photo.jpg"),N(t).then((function(e){200===e.status&&(s(""),j(""),m(""),L(!1),setTimeout((function(){window.location.href="/#/blog_post"}),1e3))})).catch((function(e){z()}))}},children:[Object(c.jsx)("input",{value:l,type:"text",name:"header",className:"header",placeholder:"Your Heading...",onChange:function(e){j(e.target.value)}}),Object(c.jsx)(d.a,{id:"editor",initialValue:n,apiKey:"cyzxz48qlxcjtrlm33fqjx8ndfaxsiptkyr7f39owox4hu5h",init:{height:300,width:"100%",menubar:!1},onChange:function(e){s(e.target.getContent())},onClick:function(e){console.log("clicked")}}),Object(c.jsx)("input",{type:"file",accept:"image/jpeg",className:"image",name:"image",style:{display:"none"},onChange:function(e){var t=e.target.files[0].name;w(e.target.files[0]).then((function(e){f(e),C(t)}))}}),Object(c.jsx)("input",{value:p,type:"text",placeholder:"Author...",className:"header",onChange:function(e){m(e.target.value)}}),Object(c.jsx)("p",{className:"imageName",children:void 0!==S&&S}),Object(c.jsx)("span",{className:"image",onClick:function(e){e.target.parentElement.image.click()},children:"Add Cover Photo"}),Object(c.jsx)("button",{disabled:I,type:"submit",children:"Post"})]}),void 0!==P?Object(c.jsx)("div",{className:"loader2",children:P}):void 0]})},C=function(){var e=Object(a.useState)(),t=Object(r.a)(e,2),n=t[0],s=t[1];return Object(c.jsx)("div",{className:"auth",children:Object(c.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault(),u.a.post("https://jesuscarescharity.com/auth",{password:e.target.password.value}).then((function(e){console.log(e),200===e.status&&(sessionStorage.setItem("loggedIn",!0),window.location.href="/")})).catch((function(e){s("Something went wrong!"),setTimeout((function(){s()}),3e3)}))},children:[n&&Object(c.jsx)("div",{className:"error",children:n}),Object(c.jsx)("h1",{children:"Your Password"}),Object(c.jsx)("input",{type:"password",className:"password",name:"password"}),Object(c.jsx)("button",{type:"submit",children:"Sign In"})]})})},k=n(67),_=function(){return Object(c.jsx)("div",{className:"home",children:Object(c.jsxs)("div",{className:"wrap",children:[Object(c.jsx)(p.b,{to:"/video_upload",children:Object(c.jsx)(k.d,{size:"100%",color:"white"})}),Object(c.jsx)(p.b,{style:{backgroundColor:"white"},to:"blog_post",children:Object(c.jsx)(k.a,{color:"purple",size:"100%"})})]})})},P=n(68),z="https://jesuscarescharity.com/get_recent",D=function(){var e={first:Object(c.jsx)(k.c,{}),second:Object(c.jsx)(P.a,{color:"purple"})},t=Object(a.useState)(e.first),n=Object(r.a)(t,2),s=n[0],i=(n[1],Object(a.useState)()),o=Object(r.a)(i,2),l=o[0],d=o[1],j=Object(a.useState)(),h=Object(r.a)(j,2),b=h[0],p=h[1],O=Object(a.useState)(),g=Object(r.a)(O,2),x=g[0],f=g[1],v=Object(a.useState)(),y=Object(r.a)(v,2),N=y[0],w=y[1],S=Object(a.useState)(),C=Object(r.a)(S,2),_=C[0],D=C[1];Object(a.useEffect)((function(){u.a.get(z).then((function(e){d(e.data)}))}),[l]);var F=function(e){u.a.post(z,e).then((function(e){200===e.status&&(console.log("deleted"),d())}))},I=function(e){u.a.post("https://jesuscarescharity.com/edit",e).then((function(e){sessionStorage.setItem("edit",JSON.stringify(e.data)),f(Object(c.jsx)(m.a,{to:"/edit"}))}))};return console.log(l),Object(c.jsxs)("div",{className:"posts",children:[Object(c.jsx)("div",{className:"wrap",children:Object(c.jsxs)("ul",{children:[Object(c.jsx)("h4",{style:{margin:"1rem 0"},children:"Blog Posts"}),void 0===l?void 0:0===l[0].length?Object(c.jsx)("p",{className:"empty",children:"Nothing to display"}):l[0].map((function(e){return Object(c.jsxs)("li",{children:[e.heading," ",Object(c.jsx)("span",{className:"trash",onClick:function(t){p(Number(e.id)),w(),D()},children:s})," ",Object(c.jsx)("span",{className:"edit",style:{marginLeft:10,marginTop:5},onClick:function(t){I({id:e.id,type:"blog_post"})},children:Object(c.jsx)(k.b,{size:"20px",color:"purple"})})," ",Object(c.jsxs)("div",{className:"verify",style:{marginRight:b===Number(e.id)?0:-130},children:[Object(c.jsx)("span",{className:"yes",onClick:function(e){F({name:"blog_post",id:b})},children:"yes"}),Object(c.jsx)("span",{className:"no",style:{marginLeft:50},onClick:function(e){p()},children:"no"})]})]},e.id)})),Object(c.jsx)("h4",{style:{margin:"1rem 0"},children:"Last Uploads"}),void 0===l?void 0:0===l[1].length?Object(c.jsx)("p",{className:"empty",children:"Nothing to display"}):l[1].map((function(e){return Object(c.jsxs)("li",{children:[e.heading," ",Object(c.jsx)("span",{className:"trash",onClick:function(t){w(Number(e.id)),p(),D()},children:s}),Object(c.jsx)("span",{className:"edit",style:{marginLeft:10,marginTop:5},onClick:function(t){I({id:e.id,type:"video_upload"})},children:Object(c.jsx)(k.b,{size:"20px",color:"purple"})})," ",Object(c.jsxs)("div",{className:"verify",style:{marginRight:N===Number(e.id)?0:-190},children:[Object(c.jsx)("span",{className:"yes",onClick:function(e){F({name:"video_upload",id:N})},children:"yes"}),Object(c.jsx)("span",{className:"no",style:{marginLeft:50},onClick:function(e){w()},children:" no"})]})]},e.id)})),Object(c.jsx)("h4",{style:{margin:"1rem 0"},children:"Last Projects"}),void 0===l?void 0:0===l[2].length?Object(c.jsx)("p",{className:"empty",children:"Nothing to display"}):l[2].map((function(e){return Object(c.jsxs)("li",{children:[e.content," ",Object(c.jsx)("span",{className:"trash",onClick:function(t){w(),p(),D(Number(e.id))},children:s}),Object(c.jsxs)("div",{className:"verify",style:{marginRight:_===Number(e.id)?0:-190},children:[Object(c.jsx)("span",{className:"yes",onClick:function(e){F({name:"projects",id:_})},children:"yes"}),Object(c.jsx)("span",{className:"no",style:{marginLeft:50},onClick:function(e){D()},children:" no"})]})]},e.id)}))]})}),x]})},F=function(){var e=Object(y.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post("https://jesuscarescharity.com/update_post",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=JSON.parse(sessionStorage.getItem("edit")),t=e.type,n=e.id,s=Object(a.useState)(e.content),i=Object(r.a)(s,2),o=i[0],l=i[1],j=Object(a.useState)(e.heading),u=Object(r.a)(j,2),b=u[0],p=u[1],m=Object(a.useState)(),O=Object(r.a)(m,2),g=O[0],x=O[1],f=Object(a.useState)(!1),v=Object(r.a)(f,2),y=v[0],N=v[1];return Object(c.jsxs)("div",{className:"post",children:[Object(c.jsxs)("form",{action:"",onSubmit:function(e){if(e.preventDefault(),""!==o.trim()&&""!==b.trim()){N(!0),x(h);var c=new FormData;c.append("content",o),c.append("header",b),c.append("type",t),c.append("id",n),F(c).then((function(e){200===e.status&&(l(""),p(""),N(!1),setTimeout((function(){window.location.href="/#/blog_post"}),1e3))})).catch((function(e){x()}))}},children:[Object(c.jsx)("input",{defaultValue:b,type:"text",name:"header",className:"header",placeholder:"Your Heading...",onChange:function(e){p(e.target.value)}}),Object(c.jsx)(d.a,{id:"editor",initialValue:o,apiKey:"cyzxz48qlxcjtrlm33fqjx8ndfaxsiptkyr7f39owox4hu5h",init:{height:300,width:"100%",menubar:!1},onChange:function(e){l(e.target.getContent())},onClick:function(e){console.log("clicked")}}),Object(c.jsx)("button",{disabled:y,type:"submit",children:"Update"})]}),void 0!==g?Object(c.jsx)("div",{className:"loader2",children:g}):void 0]})},L=(n(62),n(63),function(){var e=Object(a.useState)(""),t=Object(r.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(),o=Object(r.a)(i,2),l=o[0],d=o[1],j=Object(a.useState)({aspect:16/9}),h=Object(r.a)(j,2),b=(h[0],h[1],Object(a.useState)(!1)),p=Object(r.a)(b,2),m=p[0],O=p[1];return Object(c.jsxs)("div",{className:"projects",children:[Object(c.jsxs)("div",{className:"wrap",children:[Object(c.jsx)("div",{className:"holder",children:l&&Object(c.jsx)("img",{src:l,width:"100%"})}),l&&Object(c.jsxs)("div",{className:"caption",children:[Object(c.jsx)("p",{children:"Caption"}),Object(c.jsx)("textarea",{name:"",id:"",cols:"30",rows:"3",onChange:function(e){s(e.target.value)}})]}),Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("form",{className:"upload",children:[Object(c.jsx)("input",{type:"file",accept:"image/jpeg",name:"image",style:{display:"none"},onChange:function(e){var t=e.target.files[0],n=new FileReader;n.readAsDataURL(t),n.onload=function(e){var t=e.target.result;console.log(l),d(t)}}}),Object(c.jsx)("span",{className:"tap-to-upload",onClick:function(e){e.target.parentElement.image.click()},children:"Select Image"}),l&&Object(c.jsx)("span",{className:"upload-cropped",onClick:function(e){!function(e){document.querySelector(".holder");var t=document.createElement("img");t.src=l,t.onload=function(e){var t=e.target,c=document.createElement("canvas");t.naturalWidth,t.width,t.naturalHeight,t.height,c.width=t.width,c.height=t.height;var a=c.getContext("2d");a.drawImage(t,0,0,t.width,t.height),new Promise((function(e,t){a.canvas.toBlob((function(t){console.log(t),e(t)}))})).then((function(e){var t=new FormData;t.append("image",e,"photo.jpg"),t.append("content",n),""!==n.trim()&&u.a.post("https://jesuscarescharity.com/projects_upload",t).then((function(e){O(!m),setTimeout((function(){200===e.status&&(window.location.href="/")}),2e3)})).catch((function(e){}))}))}}()},children:" Upload "})]})})]}),m&&Object(c.jsx)("div",{className:"message",children:Object(c.jsx)("p",{className:m&&"show-success",children:"Posted"})})]})});var E=function(){return sessionStorage.getItem("loggedIn")?Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)(p.a,{children:[Object(c.jsx)(x,{}),Object(c.jsxs)(m.d,{children:[Object(c.jsx)(m.b,{exact:!0,path:"/",children:Object(c.jsx)(_,{})}),Object(c.jsx)(m.b,{path:"/video_upload",children:Object(c.jsx)(b,{})}),Object(c.jsx)(m.b,{path:"/blog_post",children:Object(c.jsx)(S,{})}),Object(c.jsx)(m.b,{path:"/posts",children:Object(c.jsx)(D,{})}),Object(c.jsx)(m.b,{path:"/edit",children:Object(c.jsx)(I,{})}),Object(c.jsx)(m.b,{path:"/project",children:Object(c.jsx)(L,{})})]})]})}):Object(c.jsx)(p.a,{children:Object(c.jsx)(C,{})})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,69)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};o.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(E,{})}),document.getElementById("root")),T()}},[[64,1,2]]]);
//# sourceMappingURL=main.a6c7d32e.chunk.js.map